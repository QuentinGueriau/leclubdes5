import projet.Enseignement
import projet.Sondage
import projet.Utilisateur

class BootStrap {

    def init = { servletContext ->
        environments {
            development {
                def user1 = new Utilisateur(nom: 'prenom1.nom1', mdp: 'azerty', droit: 0);
				def user2 = new Utilisateur(nom: 'prenom2.nom2', mdp: 'azerty', droit: 0);
				def user3 = new Utilisateur(nom: 'prenom3.nom3', mdp: 'azerty', droit: 0);
				def ens1 = new Enseignement(nom: 'ens1');
				def ens2 = new Enseignement(nom: 'ens2');
				def sondage1 = new Sondage(dateDebut: '', dateFin: '');
				ens2.sondage=[sondage1];
				ens1.save();
				ens2.save();
		        def emarg1 = new Terminal(name: "A", airport: tls);
		        def termD = new Terminal(name: "D", airport: tls);
		        tls.terminals = [termA, termD]
		        tls.save();
                if(tls.hasErrors()) {
                    println tls.getErrors()
                }
            }
        }
    }
    def destroy = {
    }
}
